<ul class="tablist nav nav-tabs nav-justified" role="tablist">
	<h1>Backupbox.se</h1>
	<li id="tabBackupbox" show="#thumbnails, #device-list" hide="#printouts" class="active"><a onClick="displayTab('tabBackupbox')" href="#"><div class="icon icon-home"></div> Backupbox</a></li>
	<!-- li class="active"><a href="#"><div class="icon icon-hdd"></div> Cloudbox</a></li -->
	<li id="tabPrintouts" hide="#thumbnails, #device-list" show="#printouts"><a onClick="displayTab('tabPrintouts')" href="#"><div class="icon-white icon-print"></div> Printouts <span id="cart"></span></a></li>
</ul>
<div ng-controller='FilesCtrl' class="container">
	<div id="libContainer">
		<div id="device-list" class="navbar navbar-inverse navbar-static-top">
		    <div class="navbar-inner">
		        <a id="mainNav-btn" class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-inverse-collapse">
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		        </a>
			    <div id="mainNav" class="nav-collapse collapse navbar-inverse-collapse">
					<ul id="devicenav" class="nav">
				        <li ng-repeat="device in FilesCtrl.fileService.devices" device-repeat-directive class="dropdown">
					        	<a href="javascript:void(0)" id="{{device.id}}" data-placement="bottom" data-trigger="hover" nng-click="infinity.editDevice('{{device.id}}')" data-html="true" ng-attr-title="<div class='imageContainer'><img src='/static/images/icons/{{device.symbol}}.png' /></div>{{device.thumbnails}} photos<br />{{device.videos}} videos<br />Status: {{device.message}}" class="device" ng-click="infinity.nextPage('{{device.id}}');infinity.editDevice('{{device.id}}')"><span>{{device.product_name}}</span></a>
				        </li>
					</ul>
					<ul id="filternav" class="nav" style="float: right;">
						<li style="border-left: 1px solid grey;" id="formatFilter"><a  href="javascript:void(0)"ng-click="infinity.nextPage(null,'image')" id="type-image" title="Show only photos" class="type"><span><div class="icon-white icon-picture"></div> Photo</span></a><a  href="javascript:void(0)" ng-click="infinity.nextPage(null,'video')" id="type-video" title="Show only videos" class="type"><span><div class="icon-white icon-facetime-video"></div> Video</span></a></li>
					</ul>
				</div>
			</div>
		</div>
	    
		<!-- div class="navbar date-navbar"><div class="navbar-inner" id="dateHolder"></div></div -->
	    <ul class="thumbnails">
			<div ng-app='box'>
			  <div id="infiniteContainer" infinite-scroll='infinity.nextPage()' infinite-scroll-disabled='infinity.busy' infinite-scroll-distance='1'>
			  		<div ng-show="FilesCtrl.fileService.missingDevices" class="browserMessage">
			  			Start using your Backupbox by connecting any USB-compatible device the the USB port on your box. 
			  		</div>
			  		<div ng-show="missingImages && !FilesCtrl.fileService.missingDevices" class="browserMessage">
			  			Ops! No images or videos were found that matches your selection. 
			  		</div>
					<div id="printouts">
						<div ng-show="!cart" class="browserMessage">
				  			Select photos from your box that you would like to print. Then open this tab and order your photo prints today!
				  		</div>
						<div ng-show="cart">
				  			<h1>Order photoprints directly to your mailbox</h1>
				  			<p>
				  			These photos have been selected for printing. When you are ready, order your photos by pressing the button below.
				  			</p>
				  			<br />
				  			Choose print size:<br />
				  			<div class="btn-group">
					  			<button class="btn active">Small</button>
					  			<button class="btn">Medium</button>
					  			<button class="btn">Large</button>
				  			</div>
				  			<br />
				  			<br />
					  		<button class="btn">Place order</button>
				  		</div>
				  		<hr />
						<ul class="thumbnails">
							<li class="span3" ng-repeat="item in cart">
								<div id="{{item.id}}" class="thumbnail"><div style="cursor: pointer;" class="preview"><div timestamp="{{item.created_at}}" style="background-image: url(/files/stream/{{item.id}}/jpg/thumbnail/260)" class="preview image" nnng-click="infinity.showPicture('{{item.id}}')"><div class="{{item.type}}"><div class="typecontent">{{item.type_content}}</div></div></div></div></div>
							</li>
						</ul>
					</div>
					<ul id="thumbnails" class="thumbnails">
						<li class="span3" ng-repeat="item in items" thumbnail-repeat-done="parseDate()">
							<div id="{{item.id}}" ng-click="infinity.addToCart('{{item}}', '/files/stream/{{item.id}}/jpg/thumbnail/260')" class="thumbnail"><div style="cursor: pointer;" class="preview"><div timestamp="{{item.created_at}}" style="background-image: url(/files/stream/{{item.id}}/jpg/thumbnail/260)" class="preview image" nnng-click="infinity.showPicture('{{item.id}}')"><div class="{{item.type}}"><div class="typecontent">{{item.type_content}}</div></div></div></div></div>
						</li>
					</ul>
			  </div>
			</div>
	        
	    </ul>
    </div>

    <div class="modal fade" id="filesDetailModal" tabindex="-1" role="dialog" aria-labelledby="filesDetailModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" onClick="stopVideo()" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="filesDetailModalLabel">Modal title</h4>
                </div>
                <div class="modal-body">
                    <a style="z-index: 10000; position: absolute; margin-top: 15px; margin-left: 10px;" class="btn" id="modalDownload" target="_blank" onClick="downloadFile()" href="">
					    <span class="icon-download-alt"></span> Download
					</a>
                    <a style="z-index: 10000; position: absolute; margin-top: 15px; margin-left: 130px;" class="btn" id="modalDelete" target="_blank" onClick="hideFile()" href="">
					    <span class="icon-remove"></span> Delete
					</a>
					<img id="modalImage" style="display: none; position: relative; z-index: 9999;" src="" />
					<img id="originalImage" style="display: none;" src="" />
					<div id="moddalVideoContainer"><video id="modalVideo" style="display: none;" width="520" height="520" controls="controls" autoplay="autoplay">
					  <source id="modalSource" src="" type="video/mp4" />
					</video></div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deviceDetailModal" tabindex="-1" role="dialog" aria-labelledby="deviceDetailModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" onClick="stopVideo()" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="deviceDetailModalLabel">Edit device information</h4>
                </div>
                <div class="modal-body">
					<form>
						<input id="deviceDetailModalInput" type="text" name="label" /><br />
	                    <a style="z-index: 10000; position: absolute; margin-top: 15px;" class="btn" ng-click="infinity.updateDevice()" id="modalSave" target="_blank" href="">
						    <i class="icon-download-alt"></i> Save
						</a>						
					</form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</div>
